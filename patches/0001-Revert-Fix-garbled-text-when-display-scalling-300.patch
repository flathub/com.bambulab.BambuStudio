From f53b536ac08801048ec0709fb81f397aabc8c89c Mon Sep 17 00:00:00 2001
From: Bastien Nocera <hadess@hadess.net>
Date: Mon, 22 Jan 2024 22:25:52 +0100
Subject: [PATCH] Revert "Fix garbled text when display scalling > 300%"

This reverts commit d516c0fee3f75b2e9d7cc595d1174c23f3d8c845.
---
 src/slic3r/GUI/GLCanvas3D.cpp   | 2 +-
 src/slic3r/GUI/ImGuiWrapper.cpp | 2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

diff --git a/src/slic3r/GUI/GLCanvas3D.cpp b/src/slic3r/GUI/GLCanvas3D.cpp
index 81f6acc22044..39e7eef81e78 100644
--- a/src/slic3r/GUI/GLCanvas3D.cpp
+++ b/src/slic3r/GUI/GLCanvas3D.cpp
@@ -6428,7 +6428,7 @@ void GLCanvas3D::_resize(unsigned int w, unsigned int h)
     m_last_w = w;
     m_last_h = h;
 
-    const float font_size = 1.0f * wxGetApp().em_unit();
+    const float font_size = 1.5f * wxGetApp().em_unit();
 #if ENABLE_RETINA_GL
     imgui->set_scaling(font_size, 1.0f, m_retina_helper->get_scale_factor());
 #else
diff --git a/src/slic3r/GUI/ImGuiWrapper.cpp b/src/slic3r/GUI/ImGuiWrapper.cpp
index 416d3365e845..dc2f895e1e92 100644
--- a/src/slic3r/GUI/ImGuiWrapper.cpp
+++ b/src/slic3r/GUI/ImGuiWrapper.cpp
@@ -2110,7 +2110,6 @@ void ImGuiWrapper::init_font(bool compress)
             throw Slic3r::RuntimeError("ImGui: Could not load deafult font");
         }
     }
-    default_font->Scale = 1.5f;
 
     if (m_is_korean)
         bold_font = io.Fonts->AddFontFromFileTTF((Slic3r::resources_dir() + "/fonts/" + "NotoSansKR-Bold.ttf").c_str(), m_font_size, &cfg, ranges.Data);
@@ -2120,7 +2119,6 @@ void ImGuiWrapper::init_font(bool compress)
         bold_font = io.Fonts->AddFontDefault();
         if (bold_font == nullptr) { throw Slic3r::RuntimeError("ImGui: Could not load deafult font"); }
     }
-    bold_font->Scale = 1.5f;
 
 #ifdef __APPLE__
     ImFontConfig config;
-- 
2.43.0

