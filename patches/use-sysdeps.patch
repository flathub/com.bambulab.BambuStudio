From d2049ba84fcf7ed5a0df0c5faf33f13cc5ea66b4 Mon Sep 17 00:00:00 2001
From: Bastien Nocera <hadess@hadess.net>
Date: Mon, 1 Jan 2024 21:38:41 +0100
Subject: [PATCH] deps: Use libjpeg from system

---
 deps/CMakeLists.txt            | 1 -
 deps/TIFF/TIFF.cmake           | 2 +-
 deps/wxWidgets/wxWidgets.cmake | 2 +-
 3 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/deps/CMakeLists.txt b/deps/CMakeLists.txt
index e143b999d6dc..3f4596083648 100644
--- a/deps/CMakeLists.txt
+++ b/deps/CMakeLists.txt
@@ -183,7 +183,6 @@ if (NOT CURL_FOUND)
     set(CURL_PKG dep_CURL)
 endif ()
 
-include(JPEG/JPEG.cmake)
 include(TIFF/TIFF.cmake)
 include(wxWidgets/wxWidgets.cmake)
 include(OCCT/OCCT.cmake)
diff --git a/deps/TIFF/TIFF.cmake b/deps/TIFF/TIFF.cmake
index f820b6a75536..bcaba2734824 100644
--- a/deps/TIFF/TIFF.cmake
+++ b/deps/TIFF/TIFF.cmake
@@ -3,7 +3,7 @@ find_package(OpenGL QUIET REQUIRED)
 bambustudio_add_cmake_project(TIFF
     URL https://gitlab.com/libtiff/libtiff/-/archive/v4.1.0/libtiff-v4.1.0.zip
     URL_HASH SHA256=c56edfacef0a60c0de3e6489194fcb2f24c03dbb550a8a7de5938642d045bd32
-    DEPENDS ${ZLIB_PKG} ${PNG_PKG} dep_JPEG
+    DEPENDS ${ZLIB_PKG} ${PNG_PKG}
     CMAKE_ARGS
         -Dlzma:BOOL=OFF
         -Dwebp:BOOL=OFF
diff --git a/deps/wxWidgets/wxWidgets.cmake b/deps/wxWidgets/wxWidgets.cmake
index 07e4a258564c..8781dd2fa974 100644
--- a/deps/wxWidgets/wxWidgets.cmake
+++ b/deps/wxWidgets/wxWidgets.cmake
@@ -28,7 +28,7 @@ bambustudio_add_cmake_project(wxWidgets
     URL https://github.com/wxWidgets/wxWidgets/archive/9c0a8be1dc32063d91ed1901fd5fcd54f4f955a1.zip
     URL_HASH SHA256=b1cee242e3a869b86eeb445eb9dfc1b8803003ce1960904fcf16a19b4f644fd0
     PATCH_COMMAND ${_patch_cmd}
-    DEPENDS ${PNG_PKG} ${ZLIB_PKG} ${EXPAT_PKG} dep_TIFF dep_JPEG
+    DEPENDS ${PNG_PKG} ${ZLIB_PKG} ${EXPAT_PKG} dep_TIFF
     CMAKE_ARGS
         -DwxBUILD_PRECOMP=ON
         ${_wx_toolkit}
-- 
2.43.0

